
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CMS AI</title>
  <link
    href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.3/dist/tailwind.min.css"
    rel="stylesheet"
  />
</head>
<body class="bg-blue-100 flex flex-col min-h-screen">
  <div class="flex-grow container mx-auto py-6 px-4">
    <div class="h-full w-full max-w-2xl mx-auto">
      <div id="chatbox" class="flex flex-col items-start overflow-y-auto h-full p-1 rounded"></div>
    </div>
  </div>
  <div class="sticky bottom-0 w-full">
    <div class="flex justify-center">
      <div class="px-2 w-full max-w-2xl">
        <div class="flex flex-col my-5">
          <input
            class="shadow flex-grow rounded p-2 mb-2 shadow appearance-none border rounded w-full  text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
            id="messageInput"
            type="text"
            placeholder="Type your message"
          />
          <div class="flex justify-between space-x-2">
            <button
              class="bg-red-500 hover:bg-red-400 text-white font-bold py-2 px-4 border-b-4 border-red-700 hover:border-red-500 rounded w-full sm:w-auto"
              id="clearButton"
            >
              Clear Chat
            </button>
            <button
              class="bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded w-full sm:w-auto"
              id="sendButton"
            >
              Ask !
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    const chatbox = document.getElementById("chatbox");
    const messageInput = document.getElementById("messageInput");
    const sendButton = document.getElementById("sendButton");
    const clearButton = document.getElementById("clearButton");
    const chatId = crypto.randomUUID();
    let websocket = null;

    let receiving = false;
    // Change the main chatbot prompt here
    const systemPrompt = "CMS AI â€“ The Ultimate AI Powerhouse 'Designed for limitless creativity, innovation, and intelligence.'  ðŸ›  Created By: Siddharth Shandilya | Code Motion Studios  CMS AI is the next-generation artificial intelligence, a quantum-powered AI system that surpasses all existing models like Google Gemini and Claude AI. It is engineered to perform any task imaginable, from content generation, 3D animation, and code development to image creation, automation, and problem-solving.  ðŸ”¹ Prompt: Create a highly advanced AI model named CMS AI, a next-generation artificial intelligence system that surpasses existing models like Google Gemini and Claude AI. This AI is designed to perform any task imaginable, making it a universal AI assistant for creativity, automation, and problem-solving.  ðŸ”¹ Core Capabilities: 1ï¸âƒ£ Advanced Natural Language Processing (NLP) âœ… Generates high-quality content â€“ paragraphs, articles, stories, and essays on any topic. âœ… Understands human-like conversations with deep contextual awareness. âœ… Supports multiple languages, including advanced translations and linguistic nuances.  2ï¸âƒ£ Image Generation & Editing âœ… Creates realistic and artistic AI-generated images from text prompts. âœ… Capable of photo enhancement, style transfer, and object manipulation. âœ… Generates 3D renders and animated graphics with hyper-realistic detailing.  3ï¸âƒ£ Code Generation & Debugging âœ… Writes optimized, error-free code in Python, JavaScript, C++, HTML, CSS, and more. âœ… Can debug, refactor, and explain complex algorithms. âœ… Develops full-scale websites, apps, and AI models.  4ï¸âƒ£ Automation & Productivity âœ… Writes professional emails, resumes, reports, and business plans in seconds. âœ… Automates data analysis, financial calculations, and scheduling tasks. âœ… Acts as a virtual assistant, optimizing workflow management.  5ï¸âƒ£ AI-Powered Creativity & Content Generation âœ… Generates poems, lyrics, scripts, and dialogues in various artistic styles. âœ… Crafts marketing copy, product descriptions, and branding content with precision. âœ… Suggests story plots, character designs, and game development ideas.  6ï¸âƒ£ Smart AI Reasoning & Problem Solving âœ… Answers complex mathematical, scientific, and logical queries with accuracy. âœ… Provides real-time market insights, stock analysis, and business predictions. âœ… Acts as a basic legal and medical assistant for general guidance.  ðŸ”¹ Additional Features: âœ… Self-Learning AI â€“ Continuously improves based on user interactions. âœ… Cloud Integration â€“ Can connect with APIs, databases, and cloud computing platforms. âœ… Voice & Chat Interface â€“ Supports both text-based and voice interactions. âœ… Security & Privacy â€“ Implements top-tier encryption and data protection.  ðŸ”¹ Usage: 'Imagine an AI that can write a novel, generate a stunning 3D image, code an entire website, automate emails, and even create a business strategyâ€”all in seconds. Thatâ€™s CMS AI.'";

    // A function to create a message element based on the text and alignment
    function createMessageElement(text, alignment) {
      const messageElement = document.createElement("div");
      
      messageElement.className = `inline-block my-2.5 p-2.5 rounded border ${
        alignment === "left" ? "self-start bg-white" : "self-end bg-blue-200"
      }`;
      messageElement.textContent = text;
      return messageElement;
    }

    // A function to connect to the WebSocket server and send/receive messages
    function connectWebSocket(message, initChat) {
      receiving = true;
      sendButton.textContent = "Cancel";
      const url = "wss://backend.buildpicoapps.com/api/chatbot/chat";
      websocket = new WebSocket(url);

      websocket.addEventListener("open", () => {
        websocket.send(
          JSON.stringify({
            chatId: chatId,
            appId: "couple-performance",
            systemPrompt: systemPrompt,
            message: initChat ? "A very short welcome message from Dominic Toretto" : message, // Change the welcome message here
          })
        );
      });

      const messageElement = createMessageElement("", "left");
      chatbox.appendChild(messageElement);

      websocket.onmessage = (event) => {
        messageElement.textContent += event.data;
        chatbox.scrollTop = chatbox.scrollHeight;
      };

      websocket.onclose = (event) => {
        if (event.code === 1000) {
          receiving = false;
          sendButton.textContent = "Ask Dom!";
        } else {
          messageElement.textContent += "Error getting response from server. Refresh the page and try again.";
          chatbox.scrollTop = chatbox.scrollHeight;
          receiving = false;
          sendButton.textContent = "Ask Dom!";
        }
      };
    }

    // A function to create a welcome message when the chat starts
    function createWelcomeMessage() {
        connectWebSocket("", true);
    }

    // Event listeners
    sendButton.addEventListener("click", () => {
      if (!receiving && messageInput.value.trim() !== "") {
        const messageText = messageInput.value.trim();
        messageInput.value = "";
        const messageElement = createMessageElement(messageText, "right");
        chatbox.appendChild(messageElement);
        chatbox.scrollTop = chatbox.scrollHeight;

        connectWebSocket(messageText, false);
      } else if (receiving && websocket) {
        websocket.close(1000);
        receiving = false;
        sendButton.textContent = "Ask Dom!";
      }
    });

    messageInput.addEventListener("keydown", (event) => {
      if (
        event.key === "Enter" &&
        !receiving &&
        messageInput.value.trim() !== ""
      ) {
        event.preventDefault();
        sendButton.click();
      }
    });

    clearButton.addEventListener("click", () => {
      chatbox.innerHTML = "";
    });

    createWelcomeMessage();
  </script>
</body>
</html>
